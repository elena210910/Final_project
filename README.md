# Final_project
## –ò–¢–û–ì–û–í–û–ï –ó–ê–î–ê–ù–ò–ï ‚Ññ10 ##

–í—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤ –∫–æ–º–ø–∞–Ω–∏–∏, –∫–æ—Ç–æ—Ä–∞—è —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫—Ä—É–ø–Ω—ã–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–æ–º.
–í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî —Å–æ–∑–¥–∞—Ç—å *–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω* –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ–¥–∞–∂–∞—Ö, –∏—Å–ø–æ–ª—å–∑—É—è —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π: PostgreSQL, ClickHouse, Apache Airflow –∏ PySpark. 
–ü–∞–π–ø–ª–∞–π–Ω –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ–¥–∞–∂–∞—Ö, –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫—É, –æ—á–∏—Å—Ç–∫—É, –∑–∞–≥—Ä—É–∑–∫—É –≤ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∞ —Ç–∞–∫–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

–ò—Ç–∞–∫ –Ω–∞—á–Ω—ë–º))


1. **–°–æ–±–µ—Ä—ë–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**


   [Dockerfile](https://github.com/elena210910/Final_project/blob/main/Dockerfile)
   
   [docker-compose.yml](https://github.com/elena210910/Final_project/blob/main/docker-compose.yml)

   

–≤ Dockerfile —è —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∞ –¥—Ä–∞–π–≤–µ—Ä OpenJDK. –≠—Ç–æ—Ç –¥—Ä–∞–π–≤–µ—Ä PostgreSQL –ø–æ–∑–≤–æ–ª—è–µ—Ç Spark –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö.
–±—ã–ª–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ–≥–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É.



![](https://github.com/elena210910/Final_project/blob/main/driver_jar.PNG)



2. [DAG](https://github.com/elena210910/Final_project/blob/main/dag)
   

   –í—Å—ë –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ, –∫–∞–∫ –∏ —Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –≤ –∑–∞–¥–∞–Ω–∏–∏. –®–∞–≥ –∑–∞ —à–∞–≥–æ–ºüòä
   

4. –í–ê–ñ–ù–û —á—Ä–µ–∑ ADMIN –≤ –∏—Ç–µ—Ä—Ñ–µ–π—Å–µ AIRFLOW **–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**. –ø–∞—Ä–æ–ª–∏ –∏ –ø—Ä–æ—á–µ–µ —É–∫–∞–∑–∞–Ω—ã –≤ —Å–∞–º–æ–º docker-compose.
   

   ![](https://github.com/elena210910/Final_project/blob/main/admin.PNG)
   

6. —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ **–∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–∞–≥**. –ò—Ç–æ–≥–æ 7 –∑–∞–¥–∞—á. –ö–æ—Ç–æ—Ä—ã–µ —É–¥–∞—á–Ω–æ –≤—ã–ø–æ–ª–Ω–∏–ª–∏—Å—å üòä

   
   

   ![](https://github.com/elena210910/Final_project/blob/main/work_dag.PNG)


   


7. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–µ–π **csv —Ñ–∞–π–ª** –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ airflow-webserver, –Ω–∞–¥–æ –∑–∞–π—Ç–∏ –≤ –Ω–µ–≥–æ –∏ –Ω–∞–ø–∏—Å–∞—Ç—å –∫–æ–º–∞–Ω–¥—É cd /opt/airflow/df/  , —ç—Ç–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–π
   —è —Å–æ—Ö—Ä–∞–Ω–∏–ª–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã–π  —Ñ–∞–π–ª. –ö–æ–ø–∏—Ä—É—é –µ–≥–æ –∫ —Å–µ–±–µ –Ω–∞ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª, —á—Ç–æ –±—ã –ø–æ–∫–∞–∑–∞—Ç—å –≤–∞–º. [sales_data.csv](https://drive.google.com/file/d/1oeOJF-3nxBtw8Rv6IKGnT1byPiMLbG2H/view?usp=sharing)


8. **–∑–∞—Ö–æ–¥–∏–º –≤ DBvear**. –ò —Å–º–æ—Ç—Ä–∏–º –≤—Å–µ –ª–∏ –∫–∞–∫ –Ω–∞–¥–æ –∏ –Ω—É–∂–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Ç–∞–º —Å–æ–∑–¥–∞–ª–∏—Å—å))

   
   

![](https://github.com/elena210910/Final_project/blob/main/tabl.PNG)   


9. **–ó–∞–π–¥–µ–º –≤ —Ç–∞–±–ª–∏—Ü—É aggregated_sales_data –≤ clickhouse**

    

    ![](https://github.com/elena210910/Final_project/blob/main/click.PNG)




–í–£–ê–õ–Ø! –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç!   


10. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è.**
    –°–¥–µ–ª–∞—é  –≤ GRAFANA. –ü–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ —É–¥–æ–±–Ω–æ –∏ –∫—Ä–∞—Å–∏–≤–æ! –ú–æ–π Dag –∏ —Ç–∞–∫ –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π,—á—Ç–æ –±—ã –µ—â—ë —Ç–∞–º –∫–æ–¥ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ –ø–∏—Å–∞—Ç—å))
    –ü–æ–¥–∫–ª—é—á–∏–º—Å—è –∫ —Ç–∞–±–ª–∏—Ü–µ –≤ Clickhouse- –ü–æ—Å–º–æ—Ç—Ä–∏–º –≤ –∫–∞–∫–æ–º —Ä–µ–≥–∏–æ–Ω–µ —Å–∞–º—ã–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏üöÄ




    ![](https://github.com/elena210910/Final_project/blob/main/chart_grafana.PNG)


    

    

